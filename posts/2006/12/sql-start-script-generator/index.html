<!DOCTYPE html>
<html lang="en">
  <head>
    <link href='http://fonts.googleapis.com/css?family=Rosarivo' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Merriweather:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <meta charset="utf-8">
    <title>SQL Start-Script generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Stefan Oderbolz (&quot;Odi&quot;)">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- load static files from bower -->
    <link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" media="all">
    <script src="/bower_components/jquery/jquery.js"></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Le styles -->
<link href='/assets/stylesheets/style-6f857850c832817175fdbb4d71c6ee0d.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/google_prettify/sons-of-obsidian-afb0925bfa2d994f17dab93e13fbf999.css' type='text/css' rel='stylesheet' media='all'>    
    <!-- Le scripts -->

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

  -->
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">metaodi</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
            
              <li><a href="/tags">Tags</a></li>
            
            
              <li><a href="/archive">Archive</a></li>
            
            
              <li><a href="/about">About me</a></li>
            
        </ul>
      </div><!-- /.navbar-collapse -->
    </div>
    </nav>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>SQL Start-Script generator </h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>12.12.2006</strong>
    </div>
    <div class="content">
      <p>Sometimes it’s so simple:</p>

<pre><code>import glob
files = glob.glob(&#39;*.*&#39;);
f=open(&#39;start_script.sql&#39;, &#39;w&#39;)
f.write(&#39;PROMPT This is an automatic generated start script\n&#39;);
f.write(&#39;PROMPT\n&#39;);
f.write(&#39;SPOOL start_script.LOG\n\n&#39;);
for filename in files:
    if filename == &#39;start_script.sql&#39;:
        continue
    f.write(&#39;PROMPT Starting script &#39; + filename + &#39;\n&#39;);
    f.write(&#39;@@&#39; + filename + &#39;\n&#39;);
f.write(&#39;\nPROMPT\n&#39;);
f.write(&#39;PROMPT Finished.\n&#39;);
f.write(&#39;SPOOL OFF\n&#39;);
f.close();
exit();
</code></pre>

<h2 id="toc_0">Explanation:</h2>

<p>First get a file list of the current directory (glob.glob(‘<em>.</em>’), this
won’t return you directories since they don’t have an extension, if your
files doesn’t have an extension, either: your fault). Then open a file
called start_script.sql which will held our start-script (pretty
self-explanatory). Then we generate a “@@” line for each file (this
means if you have non-SQL-files in that directory you have to clean-up
your script or edit it that it only takes .sql files (tip:
glob.glob(‘*.sql’)). The start-script itself is excluded but the python
script will be included (can easily be made excluded as well). After the
loop the file gets closed and that’s it.</p>

    </div>
    <ul class="tag_box inline">
      <li><i class="icon-folder-open"></i></li>
      <li>
        <a href="/categories#Tech-ref">Tech <span>11</span></a>
      </li>
    </ul>
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      <li>
        <a href="/tags#Python-ref">Python <span>2</span></a>
      </li>
      <li>
        <a href="/tags#SQL-ref">SQL <span>3</span></a>
      </li>
      <li>
        <a href="/tags#Programming-ref">Programming <span>11</span></a>
      </li>
    </ul>
    <hr>
    <ul class="pagination">
        <li class="prev"><a href="/posts/2006/11/delete-duplicate-records-with-orcle" title="Delete duplicate records with Orcle">&larr; Previous</a></li>

        <li><a href="/archive">Archive</a></li>

        <li class="next"><a href="/posts/2006/12/excel-to-csv-with-python" title="Excel to CSV with Python">Next &rarr;</a></li>
    </ul>
    <hr>
    
  </div>
</div>


      </div>

      <hr>
      <div class="footer">
        <p>&copy; Stefan Oderbolz (&quot;Odi&quot;) 2014
          with <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
          and <a href="http://getbootstrap.com/" target="_blank">Bootstrap</a>
        </p>
      </div>

    </div> <!-- /container -->

    <!-- Google Prettify -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
    
    
  </body>
</html>
